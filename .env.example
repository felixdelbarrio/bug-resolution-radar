# --- App ---
APP_TITLE=Bug Resolution Radar
# THEME: light|dark
THEME=light
DATA_PATH=data/issues.json
NOTES_PATH=data/notes.json
INSIGHTS_LEARNING_PATH=data/insights_learning.json
LOG_LEVEL=INFO
# Perfil corporativo estricto (sin tocar flujo de cookies):
# true fuerza defaults conservadores de permisos en runtime empaquetado.
BUG_RESOLUTION_RADAR_CORPORATE_MODE=false
# Desktop (macOS): minimizar prompts de permisos usando navegador del sistema.
# false (default en macOS): sin contenedor pywebview embebido.
# true: usa ventana desktop embebida (pywebview).
BUG_RESOLUTION_RADAR_DESKTOP_WEBVIEW=false
# Control explícito de apps navegador (AppleScript/open -a). En macOS,
# false evita automatización de otras apps y reduce prompts de permisos.
BUG_RESOLUTION_RADAR_BROWSER_APP_CONTROL=false
# Apertura automática en navegador seleccionado (Chrome/Edge) vía ejecutable
# directo, evitando AppleScript. Recomendado en entornos corporativos.
BUG_RESOLUTION_RADAR_PREFER_SELECTED_BROWSER_BINARY=true
# Máximo de pestañas automáticas de bootstrap de login (deduplicadas).
BUG_RESOLUTION_RADAR_BROWSER_BOOTSTRAP_MAX_TABS=3
# Opcional: fuerza ruta de binario cuando Chrome/Edge no están en ubicación estándar.
BUG_RESOLUTION_RADAR_CHROME_BINARY=
BUG_RESOLUTION_RADAR_EDGE_BINARY=

# --- Jira ---
JIRA_BASE_URL=https://jira.globaldevtools.bbva.com/
SUPPORTED_COUNTRIES=México,España,Peru,Colombia,Argentina
JIRA_SOURCES_JSON=[{"country":"Argentina","alias":"01.ARG - QA Landing de Financiación","jql":"(\n  (\n    project = 78991\n    AND issuetype not in (\"11100\")\n    AND cf[13300] = 11989667\n    OR issueFunction in subtasksOf(\"project = 78991 AND issuetype not in (\\\"11100\\\") AND cf[13300] = 11989667\")\n    OR issuetype = \"11100\" AND cf[13302] = 11989667\n    OR issuetype = \"11100\" AND cf[13302] is EMPTY AND cf[13300] = 11989667\n    OR issueFunction in subtasksOf(\"issuetype = \\\"11100\\\" AND cf[13302] = 11989667 OR issuetype = \\\"11100\\\" AND cf[13302] is EMPTY AND cf[13300] = 11989667\")\n  )\n  AND NOT status in (Discarded, Deleted)\n  AND (resolution is EMPTY OR resolved >= -365d)\n)\nAND issuetype = Bug\nAND labels = \"#ARG\"\nAND labels = \"#EDC\"\nAND labels = \"#LF\"\nORDER BY Rank ASC"},{"country":"México","alias":"G1.GEMA - Inventario de incidencias dentro de 365 días (MEXBMI1)","jql":"((project=13008 AND issuetype NOT IN (\"11100\",\"13100\") AND cf[13300]=2287967 OR issueFunction in subtasksOf('project=13008 AND issuetype NOT IN (\"11100\",\"13100\") AND cf[13300]=2287967') OR (issuetype=\"11100\" AND (cf[13302]=2287967 OR (cf[13302] IS EMPTY AND cf[13300]=2287967))) OR issueFunction in subtasksOf('issuetype=\"11100\" AND (cf[13302]=2287967 OR (cf[13302] IS EMPTY AND cf[13300]=2287967))')))\nAND status NOT IN (Discarded, Deleted)\nAND (resolution IS EMPTY OR resolved >= -365d)\nAND issuetype = Bug\nAND created >= -365d\nORDER BY Rank ASC"},{"country":"México","alias":"S1.SENDA - Inventario de incidencias dentro de 365 días (MEX - BEX: ECSMEX, BEXEMEX, SKSEMEX, BEX IAM PlataformasEAM)","jql":"(((project = 72704 AND status NOT IN (Discarded, Deleted) AND ((issuetype NOT IN (\"11100\") AND cf[13300] = 8711901) OR issueFunction IN subtasksOf(\"project = 72704 AND issuetype NOT IN (\\\"11100\\\") AND cf[13300] = 8711901\") OR (issuetype = \"11100\" AND (cf[13302] = 8711901 OR (cf[13302] IS EMPTY AND cf[13300] = 8711901))) OR issueFunction IN subtasksOf(\"issuetype = \\\"11100\\\" AND (cf[13302] = 8711901 OR (cf[13302] IS EMPTY AND cf[13300] = 8711901))\"))) OR (project = 47401 AND status NOT IN (Discarded, Deleted) AND ((issuetype NOT IN (\"11100\", \"13100\") AND cf[13300] = 3352318) OR issueFunction IN subtasksOf(\"project = 47401 AND issuetype NOT IN (\\\"11100\\\", \\\"13100\\\") AND cf[13300] = 3352318\") OR (issuetype = \"11100\" AND (cf[13302] = 3352318 OR (cf[13302] IS EMPTY AND cf[13300] = 3352318))) OR issueFunction IN subtasksOf(\"issuetype = \\\"11100\\\" AND (cf[13302] = 3352318 OR (cf[13302] IS EMPTY AND cf[13300] = 3352318))\"))) OR (project = 39600 AND status NOT IN (Discarded, Deleted) AND ((issuetype NOT IN (\"11100\") AND cf[13300] = 12729897) OR issueFunction IN subtasksOf(\"project = 39600 AND issuetype NOT IN (\\\"11100\\\") AND cf[13300] = 12729897\") OR (issuetype = \"11100\" AND (cf[13302] = 12729897 OR (cf[13302] IS EMPTY AND cf[13300] = 12729897))) OR issueFunction IN subtasksOf(\"issuetype = \\\"11100\\\" AND (cf[13302] = 12729897 OR (cf[13302] IS EMPTY AND cf[13300] = 12729897))\"))) OR (project = 72704 AND status NOT IN (Deleted) AND ((issuetype NOT IN (\"11100\", \"13100\") AND cf[13300] = 8711901) OR issueFunction IN subtasksOf(\"project = 72704 AND issuetype NOT IN (\\\"11100\\\", \\\"13100\\\") AND cf[13300] = 8711901\") OR (issuetype = \"11100\" AND (cf[13302] = 8711901 OR (cf[13302] IS EMPTY AND cf[13300] = 8711901))) OR issueFunction IN subtasksOf(\"issuetype = \\\"11100\\\" AND (cf[13302] = 8711901 OR (cf[13302] IS EMPTY AND cf[13300] = 8711901))\"))) OR ((project = 48204 AND status NOT IN (Discarded, Deleted, Accepted) AND ((issuetype IN standardIssueTypes() AND issuetype != \"11100\" AND cf[13300] = 5658334) OR issueFunction IN subtasksOf(\"project = 48204 AND issuetype in standardIssueTypes() AND issuetype != \\\"11100\\\" AND cf[13300] = 5658334\") OR (issuetype = \"11100\" AND cf[13302] = 5658334) OR issueFunction IN subtasksOf(\"issuetype = \\\"11100\\\" AND cf[13302] = 5658334\"))) OR ((issuetype IN (\"APX Component Request\", \"APX Component Modification\", \"APX Component Express Modification\") AND status IN (\"Pending Profiling\") AND Geography = Mexico) OR (issuetype = \"ASO Backend Security Operation Sub-task\" AND status NOT IN (Deployed) AND issueFunction IN subtasksOf(\"issuetype in ('ASO Construction - New Request','ASO Construction - Modification', 'ASO Release') and Geography = Mexico \"))))))\nAND (resolution IS EMPTY OR resolved >= -365d)\nAND summary ~ \"INC0*\"\nAND created >= -365d\nORDER BY Rank ASC"}]
  (
    project = 78991
    AND issuetype not in (\"11100\")
    AND cf[13300] = 11989667
    OR issueFunction in subtasksOf(\"project = 78991 AND issuetype not in (\\"11100\\") AND cf[13300] = 11989667\")
    OR issuetype = \"11100\" AND cf[13302] = 11989667
    OR issuetype = \"11100\" AND cf[13302] is EMPTY AND cf[13300] = 11989667
    OR issueFunction in subtasksOf(\"issuetype = \\"11100\\" AND cf[13302] = 11989667 OR issuetype = \\"11100\\" AND cf[13302] is EMPTY AND cf[13300] = 11989667\")
  )
  AND NOT status in (Discarded, Deleted)
  AND (resolution is EMPTY OR resolved >= -365d)
)
AND issuetype = Bug
AND labels = \"#ARG\"
AND labels = \"#EDC\"
AND labels = \"#LF\"
ORDER BY Rank ASC"},{"country":"México","alias":"G1.GEMA - Inventario de incidencias dentro de 365 días (MEXBMI1)","jql":"((project=13008 AND issuetype NOT IN (\"11100\",\"13100\") AND cf[13300]=2287967 OR issueFunction in subtasksOf('project=13008 AND issuetype NOT IN (\"11100\",\"13100\") AND cf[13300]=2287967') OR (issuetype=\"11100\" AND (cf[13302]=2287967 OR (cf[13302] IS EMPTY AND cf[13300]=2287967))) OR issueFunction in subtasksOf('issuetype=\"11100\" AND (cf[13302]=2287967 OR (cf[13302] IS EMPTY AND cf[13300]=2287967))')))
AND status NOT IN (Discarded, Deleted)
AND (resolution IS EMPTY OR resolved >= -365d)
AND issuetype = Bug
AND created >= -365d
ORDER BY Rank ASC"},{"country":"México","alias":"S1.SENDA - Inventario de incidencias dentro de 365 días (MEX - BEX: ECSMEX, BEXEMEX, SKSEMEX, BEX IAM PlataformasEAM)","jql":"(((project = 72704 AND status NOT IN (Discarded, Deleted) AND ((issuetype NOT IN (\"11100\") AND cf[13300] = 8711901) OR issueFunction IN subtasksOf(\"project = 72704 AND issuetype NOT IN (\\"11100\\") AND cf[13300] = 8711901\") OR (issuetype = \"11100\" AND (cf[13302] = 8711901 OR (cf[13302] IS EMPTY AND cf[13300] = 8711901))) OR issueFunction IN subtasksOf(\"issuetype = \\"11100\\" AND (cf[13302] = 8711901 OR (cf[13302] IS EMPTY AND cf[13300] = 8711901))\"))) OR (project = 47401 AND status NOT IN (Discarded, Deleted) AND ((issuetype NOT IN (\"11100\", \"13100\") AND cf[13300] = 3352318) OR issueFunction IN subtasksOf(\"project = 47401 AND issuetype NOT IN (\\"11100\\", \\"13100\\") AND cf[13300] = 3352318\") OR (issuetype = \"11100\" AND (cf[13302] = 3352318 OR (cf[13302] IS EMPTY AND cf[13300] = 3352318))) OR issueFunction IN subtasksOf(\"issuetype = \\"11100\\" AND (cf[13302] = 3352318 OR (cf[13302] IS EMPTY AND cf[13300] = 3352318))\"))) OR (project = 39600 AND status NOT IN (Discarded, Deleted) AND ((issuetype NOT IN (\"11100\") AND cf[13300] = 12729897) OR issueFunction IN subtasksOf(\"project = 39600 AND issuetype NOT IN (\\"11100\\") AND cf[13300] = 12729897\") OR (issuetype = \"11100\" AND (cf[13302] = 12729897 OR (cf[13302] IS EMPTY AND cf[13300] = 12729897))) OR issueFunction IN subtasksOf(\"issuetype = \\"11100\\" AND (cf[13302] = 12729897 OR (cf[13302] IS EMPTY AND cf[13300] = 12729897))\"))) OR (project = 72704 AND status NOT IN (Deleted) AND ((issuetype NOT IN (\"11100\", \"13100\") AND cf[13300] = 8711901) OR issueFunction IN subtasksOf(\"project = 72704 AND issuetype NOT IN (\\"11100\\", \\"13100\\") AND cf[13300] = 8711901\") OR (issuetype = \"11100\" AND (cf[13302] = 8711901 OR (cf[13302] IS EMPTY AND cf[13300] = 8711901))) OR issueFunction IN subtasksOf(\"issuetype = \\"11100\\" AND (cf[13302] = 8711901 OR (cf[13302] IS EMPTY AND cf[13300] = 8711901))\"))) OR ((project = 48204 AND status NOT IN (Discarded, Deleted, Accepted) AND ((issuetype IN standardIssueTypes() AND issuetype != \"11100\" AND cf[13300] = 5658334) OR issueFunction IN subtasksOf(\"project = 48204 AND issuetype in standardIssueTypes() AND issuetype != \\"11100\\" AND cf[13300] = 5658334\") OR (issuetype = \"11100\" AND cf[13302] = 5658334) OR issueFunction IN subtasksOf(\"issuetype = \\"11100\\" AND cf[13302] = 5658334\"))) OR ((issuetype IN (\"APX Component Request\", \"APX Component Modification\", \"APX Component Express Modification\") AND status IN (\"Pending Profiling\") AND Geography = Mexico) OR (issuetype = \"ASO Backend Security Operation Sub-task\" AND status NOT IN (Deployed) AND issueFunction IN subtasksOf(\"issuetype in ('ASO Construction - New Request','ASO Construction - Modification', 'ASO Release') and Geography = Mexico \"))))))
AND (resolution IS EMPTY OR resolved >= -365d)
AND summary ~ \"INC0*\"
AND created >= -365d
ORDER BY Rank ASC"}]
# JIRA_BROWSER: chrome|edge
JIRA_BROWSER=chrome
JIRA_BROWSER_LOGIN_URL=
JIRA_BROWSER_LOGIN_WAIT_SECONDS=90
JIRA_BROWSER_LOGIN_POLL_SECONDS=2.0

# Preferencias de dashboard
DASHBOARD_SUMMARY_CHARTS=timeseries,open_priority_pie,open_status_bar
TREND_SELECTED_CHARTS=timeseries,open_priority_pie,open_status_bar
DASHBOARD_FILTER_STATUS_JSON=[]
DASHBOARD_FILTER_PRIORITY_JSON=[]
DASHBOARD_FILTER_ASSIGNEE_JSON=[]
KEEP_CACHE_ON_SOURCE_DELETE=false
REPORT_PPT_DOWNLOAD_DIR=
ANALYSIS_LOOKBACK_MONTHS=0

HELIX_DATA_PATH=data/helix_dump.json
HELIX_SOURCES_JSON=[{"country":"México","alias":"SENDA","service_origin_buug":"BBVA México","service_origin_n1":"ENTERPRISE WEB"},{"country":"México","alias":"GEMA","service_origin_buug":"BBVA México","service_origin_n1":"MOBILE ENTERPRISE"},{"country":"España","alias":"GEMA","service_origin_buug":"BBVA España","service_origin_n1":"ENTERPRISE MOBILE CHANNEL"},{"country":"España","alias":"SENDA","service_origin_buug":"BBVA España","service_origin_n1":"ENTERPRISES CHANNEL"},{"country":"Colombia","alias":"GEMA","service_origin_buug":"BBVA Colombia","service_origin_n1":"ENTERPRISE MOBILE (GEMA)"},{"country":"Colombia","alias":"SENDA","service_origin_buug":"BBVA Colombia","service_origin_n1":"ENTERPRISE WEB CHANNEL"},{"country":"Peru","alias":"GEMA","service_origin_buug":"BBVA Perú","service_origin_n1":"ENTERPRISE BANKING CANALES WEB & MOBILE","service_origin_n2":"APP GEMA PNN, NUEVA APP. MOBILE EMPRESAS -GEMA"},{"country":"Peru","alias":"Netcash","service_origin_buug":"BBVA Perú","service_origin_n1":"ENTERPRISE BANKING CANALES WEB & MOBILE","service_origin_n2":"NETCASH - BANCA EMPRESAS PERU, NETCHASH MOVIL"},{"country":"Peru","alias":"SENDA","service_origin_buug":"BBVA Perú","service_origin_n1":"ENTERPRISE BANKING CANALES WEB & MOBILE","service_origin_n2":"PLATAFORMA SENDA PER"},{"country":"Peru","alias":"TODOS ENTERPRISE","service_origin_buug":"BBVA Perú","service_origin_n1":"ENTERPRISE BANKING CANALES WEB & MOBILE"}]
HELIX_INGEST_DISABLED_SOURCES_JSON=[]
HELIX_BROWSER=chrome
HELIX_DASHBOARD_URL=https://itsmhelixbbva-smartit.onbmc.com/smartit/app/#/ticket-console
HELIX_PROXY=http://127.0.0.1:8999
HELIX_SSL_VERIFY=false
HELIX_CONNECT_TIMEOUT=10
HELIX_READ_TIMEOUT=30
HELIX_MAX_READ_TIMEOUT=180
HELIX_PROXY_MIN_READ_TIMEOUT=30
HELIX_DRYRUN_CONNECT_TIMEOUT=10
HELIX_DRYRUN_READ_TIMEOUT=60
HELIX_MIN_CHUNK_SIZE=10
HELIX_MAX_PAGES=200
HELIX_MAX_INGEST_SECONDS=1800
HELIX_CA_BUNDLE=
# ARSQL (único modo soportado):
# Se pueden dejar vacíos: la app intenta autodetectar host/UID desde HELIX_DASHBOARD_URL.
HELIX_ARSQL_BASE_URL=
HELIX_ARSQL_DATASOURCE_UID=
HELIX_ARSQL_SOURCE_SERVICE_N1=ENTERPRISE WEB
HELIX_ARSQL_LIMIT=500
HELIX_ARSQL_DS_AUTH=IMS-JWT JWT PLACEHOLDER
HELIX_ARSQL_CLIENT_TYPE=4021
HELIX_ARSQL_DASHBOARD_URL=
HELIX_BROWSER_LOGIN_WAIT_SECONDS=90
HELIX_BROWSER_LOGIN_POLL_SECONDS=2.0
HELIX_ARSQL_GRAFANA_ORG_ID=
HELIX_ARSQL_GRAFANA_DEVICE_ID=
